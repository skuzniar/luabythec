MAKESYS_PROJECT_NAME = trivial
MAKESYS_PROJECT_TYPE = exe
MAKESYS_PACKAGE_ROOT = $(HOME)/opt/vcpkg/installed/x64-osx
MAKESYS_MAKESYS_ROOT = ../../makesys
MAKESYS_BUILD_ROOT   = ./build

#-----------------------------------------------------------------------------------------------------------------------
# Code generation stage. List of source files.
#-----------------------------------------------------------------------------------------------------------------------
MAKESYS_CODEGEN_SOURCES := def/*proto

#-----------------------------------------------------------------------------------------------------------------------
# Code generation stage. Types of output.
#-----------------------------------------------------------------------------------------------------------------------
MAKESYS_TOOLS_PROTOBUF_COMPILE_OUTPUT  := cpp luabythec

#-----------------------------------------------------------------------------------------------------------------------
# Compilation stage. List of source files.
#-----------------------------------------------------------------------------------------------------------------------
MAKESYS_COMPILE_SOURCES := src/*cpp

#-----------------------------------------------------------------------------------------------------------------------
# Executable linking stage. List of libraries. 
#-----------------------------------------------------------------------------------------------------------------------
MAKESYS_TOOLS_CPP_EXELINK_LIBS := stdc++ protobuf lua pthread

include $(MAKESYS_MAKESYS_ROOT)/rules.mk

#-----------------------------------------------------------------------------------------------------------------------
# Add rule to execute the program
#-----------------------------------------------------------------------------------------------------------------------
run: exelink
	$(firstword $(MAKESYS_EXELINK_TARGETS))

